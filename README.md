# Hardware

- ESP32 board: [FireBeetle 2 ESP32-E](https://wiki.dfrobot.com/FireBeetle_Board_ESP32_E_SKU_DFR0654)
- E-paper display: [Waveshare 5.83inch red/black/white](https://www.waveshare.com/product/displays/e-paper/epaper-1/5.83inch-e-paper-hat-b.htm)
- battery: [LiPo 3.7v 2Ah JST PH2.0](https://www.digikey.com/en/products/detail/adafruit-industries-llc/2011/6612469)

# Installation

- VSCode
- PlatformIO

# Tools

## SSL Certificate bundle

The bundle is already in `data/cert` so nothing needs to be done but in case it needs to be updated, the [ESP32 WifiClientSecure README](https://github.com/espressif/arduino-esp32/tree/master/libraries/WiFiClientSecure#using-a-bundle-of-root-certificate-authority-certificates) was somewhat followed.

The `x509_crt_bundle.bin` file in `data/cert` was generated by downloading [cacert.pem](https://curl.se/docs/caextract.html) into the `./tools` directory and then running
```
python gen_crt_bundle.py --input cacert.pem
mv x509_crt_bundle ../data/cert/x509_crt_bundle.bin
```

The `gen_crt_bundle.py` script comes from [here](https://github.com/espressif/esp-idf/blob/master/components/mbedtls/esp_crt_bundle/gen_crt_bundle.py)

## Icons

Icons are generated from the SVG files using Image Magick.

```
cd tools
./export_icons.sh -s 48
./export_icons.sh -s 96
```

## Fonts

Custom font sizes were generated on https://rop.nl/truetype2gfx/

# Uploading

Data can be uploaded with the `Upload Filesystem Image` task in the `PlatformIO` menu.

Code can be compiled and uploaded using the `upload` or `upload and monitor` tasks.